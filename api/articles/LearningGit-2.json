{"title":"Git学习笔记（下）","uid":"d7b3727bda59e083c15f8ff5e688b23d","slug":"LearningGit-2","date":"2023-08-17T00:59:10.616Z","updated":"2023-08-18T07:56:55.390Z","comments":true,"path":"api/articles/LearningGit-2.json","keywords":null,"cover":"/medias/cover-git.jpg","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"Learning-Git-2-【Branch】\"><a href=\"#Learning-Git-2-【Branch】\" class=\"headerlink\" title=\"Learning Git 2 【Branch】\"></a>Learning Git 2 【Branch】</h1><h2 id=\"0-默认分支\"><a href=\"#0-默认分支\" class=\"headerlink\" title=\"0 默认分支\"></a>0 默认分支</h2><p><img src=\"/img/1.png\" alt=\"主分支\"></p>\n<h2 id=\"1-新建本地分支并切换分支\"><a href=\"#1-新建本地分支并切换分支\" class=\"headerlink\" title=\"1 新建本地分支并切换分支\"></a>1 新建本地分支并切换分支</h2><p>首先，我们创建dev分支，然后切换到dev分支：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout <span class=\"token parameter variable\">-b</span> dev <span class=\"token comment\">#checkout 检出</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>git checkout命令加上-b参数表示创建并切换，相当于以下两条命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch dev\n<span class=\"token function\">git</span> checkout dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"/img/2.png\" alt=\"新建分支并切换分支\"></p>\n<h2 id=\"2-向新分支添加新文件并提交\"><a href=\"#2-向新分支添加新文件并提交\" class=\"headerlink\" title=\"2 向新分支添加新文件并提交\"></a>2 向新分支添加新文件并提交</h2><p>然后，用git branch命令查看当前分支。git branch命令会列出所有分支，当前分支前面会标一个*号。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>然后，我们就可以在dev分支上正常提交，比如增加一个文件。</p>\n<p>然后提交：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> *.*\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"branch test\"</span>\n<span class=\"token function\">git</span> push --set-upstream origin dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"/img/3.png\" alt=\"在开发分支上添加新文件\"></p>\n<h2 id=\"3-切换为主分支\"><a href=\"#3-切换为主分支\" class=\"headerlink\" title=\"3 切换为主分支\"></a>3 切换为主分支</h2><p>现在，dev分支的工作完成，我们就可以切换回master分支：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>切换回master分支后，再查看一个README.md文件，刚才添加的内容不见了！因为那个提交是在dev分支上，而master分支此刻的提交点并没有变：</p>\n<p><img src=\"/img/4.png\" alt=\"切换为主分支\"></p>\n<h2 id=\"4-合并分支\"><a href=\"#4-合并分支\" class=\"headerlink\" title=\"4 合并分支\"></a>4 合并分支</h2><p>现在，我们把branch分支的工作成果合并到master分支上：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> merge dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>git merge命令用于合并指定分支到当前分支。合并后，再查看readme.txt的内容，就可以看到，和dev分支的最新提交是完全一样的。</p>\n<p><img src=\"/img/5.png\" alt=\"合并分支\"></p>\n<p>注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。</p>\n<p>当然，也不是每次合并都能Fast-forward，我们后面会讲其他方式的合并。</p>\n<h2 id=\"5-删除分支\"><a href=\"#5-删除分支\" class=\"headerlink\" title=\"5 删除分支\"></a>5 删除分支</h2><p>合并完成后，就可以放心地删除dev分支了：</p>\n<p>删除本地分支</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-d</span> dev<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>删除后，查看branch，就只剩下master分支了：</p>\n<p><img src=\"/img/6.png\" alt=\"删除分支\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> branch    <span class=\"token comment\">#查看本地分支</span>\n<span class=\"token function\">git</span> branch <span class=\"token parameter variable\">-a</span> <span class=\"token comment\">#查看所有分支（包含远程分支）</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>因为创建、合并和删除分支非常快，所以Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在master分支上工作效果是一样的，但过程更安全。</p>\n<p>删除远程分支</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--delete</span> dev <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","text":"Learning Git 2 【Branch】0 默认分支 1 新建本地分支并切换分支首先，我们创建dev分支，然后切换到dev分支： git checkout...","link":"","photos":[],"count_time":{"symbolsCount":995,"symbolsTime":"1 mins."},"categories":[{"name":"学习记录","slug":"学习记录","count":5,"path":"api/categories/学习记录.json"}],"tags":[{"name":"Git","slug":"Git","count":2,"path":"api/tags/Git.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Learning-Git-2-%E3%80%90Branch%E3%80%91\"><span class=\"toc-text\">Learning Git 2 【Branch】</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0-%E9%BB%98%E8%AE%A4%E5%88%86%E6%94%AF\"><span class=\"toc-text\">0 默认分支</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E6%96%B0%E5%BB%BA%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF\"><span class=\"toc-text\">1 新建本地分支并切换分支</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%90%91%E6%96%B0%E5%88%86%E6%94%AF%E6%B7%BB%E5%8A%A0%E6%96%B0%E6%96%87%E4%BB%B6%E5%B9%B6%E6%8F%90%E4%BA%A4\"><span class=\"toc-text\">2 向新分支添加新文件并提交</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E5%88%87%E6%8D%A2%E4%B8%BA%E4%B8%BB%E5%88%86%E6%94%AF\"><span class=\"toc-text\">3 切换为主分支</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF\"><span class=\"toc-text\">4 合并分支</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF\"><span class=\"toc-text\">5 删除分支</span></a></li></ol></li></ol>","author":{"name":"ApolloH","slug":"blog-author","avatar":"/medias/avatar.jpg","link":"/","description":"Nature never fails to surprise us <br> </br> 保持热爱，勇往直前","socials":{"github":"https://github.com/ApolloH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/398519048"},"Email":{"icon":"/medias/favicon-email.svg","link":"mailto:huangsz.ee@qq.com"}}}},"mapped":true,"prev_post":{"title":"Git学习笔记（上）","uid":"5d0343ebd26904f0692de3f19d1c235a","slug":"LearningGit-1","date":"2023-08-17T00:59:10.616Z","updated":"2023-08-18T07:54:54.616Z","comments":true,"path":"api/articles/LearningGit-1.json","keywords":null,"cover":"/medias/cover-git.jpg","text":"Learning Git 1 【Basic】Git Referrence IDE：Ctrl+&#96; 打开终端Terminal Shell 设置用户名git ...","link":"","photos":[],"count_time":{"symbolsCount":564,"symbolsTime":"1 mins."},"categories":[{"name":"学习记录","slug":"学习记录","count":5,"path":"api/categories/学习记录.json"}],"tags":[{"name":"Git","slug":"Git","count":2,"path":"api/tags/Git.json"}],"author":{"name":"ApolloH","slug":"blog-author","avatar":"/medias/avatar.jpg","link":"/","description":"Nature never fails to surprise us <br> </br> 保持热爱，勇往直前","socials":{"github":"https://github.com/ApolloH","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/398519048"},"Email":{"icon":"/medias/favicon-email.svg","link":"mailto:huangsz.ee@qq.com"}}}}},"next_post":{}}